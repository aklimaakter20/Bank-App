<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
    <div class="container mx-auto ">
        <div class="bg-slate-800 w-1/2  rounded-lg mx-auto " id="login-box">
            <h2 class="text-center text-white mt-20 pt-10 text-2xl font-semibold underline underline-offset-8 mb-12">
                Login My Bank</h2>
            <div class="mx-auto w-80">
                <input id="acc-number" class="py-2 w-56 h-10 ml-6 mx-auto lg:w-80 rounded-sm outline-0 border-0 px-2"
                    type="text" placeholder="Your Account Login"><br><br>
                <input id="password" class="py-2 w-56 h-10 ml-6 mx-auto lg:w-80 rounded-sm outline-0 border-0 px-2"
                    type="password" placeholder="Your Password here">

                <div class="btn">
                    <button class="bg-white mx-auto h-10 ml-6 mt-5 px-8 py-2 rounded font-semibold mb-10 "
                        id="login-btn">Login</button>
                </div>
            </div>
        </div>

        <div class="main-page-balance" id="main-page">

            <!-- Balance Section -->

            <div class="mx-auto w-56 lg:w-80 h-16 mt-16 mb-16">
                <h1
                    class="text-2xl font-semibold text-center bg-[#35bcbf] text-white inline-block px-10 py-3 rounded-md mx-auto ">
                    Your Balance is : <span id="total_balance">00</span></h1>
            </div>


            <div class=" mx-10 sm:flex sm:mx-30">
                <!-- Deposit section -->


                <div class="bg-[#64c4ed] w-full mb-5 sm:rounded-lg px-6 py-6  rounded-md ml-6">

                    <h1 class="text-2xl font-semibold text-white mb-3">Deposit : <span id="total_deposit">00</span>
                    </h1>

                    <input id="deposit_input"
                        class="py-2 w-56 h-10 ml-2 mb-3  mx-auto rounded-sm outline-0 border-0 px-2" type="number"
                        placeholder="Deposit Quantity">

                    <div class="addbtn">
                        <button id="add_depositBtn"
                            class="bg-white text-[#64c4ed] px-3 py-1 font-semibold rounded-md ml-2">Add Money</button>
                    </div>
                </div>


                <!-- Withdraw-section -->
                <div class="bg-[#82acff] w-full mb-5 sm:rounded-lg px-6 py-6  rounded-md ml-6">
                    <h1 class="text-2xl font-semibold text-white mb-3">Withdraw : <span id="withdraw_total">00</span>
                    </h1>
                    <input id="withdraw_input"
                        class="py-2 w-44 sm:w-56 h-10 ml-2  mb-3 mx-auto rounded-sm outline-0 border-0 px-2" type="text"
                        placeholder="Withdraw Money">
                    <div class="addbtn">
                        <button id="withdrawBtn"
                            class="bg-white text-[#64c4ed] px-3 py-1 font-semibold rounded-md ml-2">Withdraw
                            Money</button>
                    </div>
                </div>

            </div>
            <!-- transactionHistoryBtn -->
            <div class="h-10 w-56 lg:w-80 ml-16 lg:mx-auto mt-5">
                <button id="transactionHistoryBtn"
                    class="bg-blue-500 text-white px-4 py-2 h-10 w-80 mx-auto rounded">Transaction History</button>

            </div>
            <!-- transactionHistory -->

            <div id="transactionHistory" class="mt-6">
                <h2 class="text-xl font-bold mb-2 ml-12">Transaction History</h2>
                <table class="min-w-full bg-white">
                    <tr>
                        <th class="py-2">Date</th>
                        <th class="py-2">Type</th>
                        <th class="py-2">Amount</th>
                        <th class="py-2">Balance</th>
                    </tr>
                </table>
                <table id="transactionTableBody">
                    
                </table>
            </div>




        </div>
    </div>


    <script>
        // create login page variable and validation
        const loginBtn = document.getElementById('login-btn')
        const mainPage = document.getElementById('main-page')
        mainPage.style.display = 'none'

        loginBtn.addEventListener('click', function () {
            const logInBox = document.getElementById('login-box');
            const accountNo = document.getElementById('acc-number').value;
            const password = document.getElementById('password').value;

            if (accountNo == '') {
                alert(" email address is required");
            } else if (password == '') {
                alert("Your password is required")
            } else {
                logInBox.style.display = 'none';
                mainPage.style.display = 'block'
            }
        })

        //   add deposit start

        const addDepositBtn = document.getElementById('add_depositBtn')
        addDepositBtn.addEventListener('click', function () {

            const depositInput = document.getElementById('deposit_input').value;

            const depositNewInput = parseFloat(depositInput);

            const totalDeposit = document.getElementById('total_deposit').innerHTML;

            const totalNewDeposit = parseFloat(totalDeposit);
            console.log(totalNewDeposit);


            const total_Deposit_info = depositNewInput + totalNewDeposit;


            document.getElementById('total_deposit').innerHTML = total_Deposit_info.toFixed(2);

            // add deposit end

            // Total balance
            const total_balance = document.getElementById("total_balance").innerHTML;
            const NewTotal_balance = parseFloat(total_balance);

            const Total_New_Balance = depositNewInput + NewTotal_balance;
            document.getElementById("total_balance").innerHTML = Total_New_Balance.toFixed(2);

        });

        // withdraw section here

        const withdrawBtn = document.getElementById("withdrawBtn");
        withdrawBtn.addEventListener('click', function () {

            const withdrawInput = document.getElementById("withdraw_input").value;

            const newWithdrawInput = parseFloat(withdrawInput);


            const withdrawTotal = document.getElementById("withdraw_total").innerHTML;

            newWithdrawTotal = parseFloat(withdrawTotal);

            const totalWithdraw = newWithdrawTotal + newWithdrawInput;
            document.getElementById("withdraw_total").innerHTML = totalWithdraw.toFixed(2);

            // multiplication
            const TotalBalance = document.getElementById("total_balance").innerHTML;
            const NewBalance = parseFloat(TotalBalance);

            const multiplication = NewBalance - newWithdrawInput;

            document.getElementById("total_balance").innerHTML = multiplication.toFixed(2);


        });

        // transaction history

        const transactionHistoryBtn = document.getElementById("transactionHistoryBtn")
        const transactionHistory = document.getElementById("transactionHistory")
        transactionHistory.style.display = 'none';

        transactionHistoryBtn.addEventListener('click', function () {
            transactionHistory.style.display = 'block';
            addTransaction()
        })
        const transactionTableBody = document.getElementById("transactionTableBody")
        const addTransaction = () => {
            const date = new Date()
            let day = date.getDate()
            let month = date.getMonth() + 1
            let year = date.getFullYear()
            let hour = date.getHours()
            let mints = date.getMinutes()

            
            const row = document.createElement('tr');
            row.innerHTML += `<td class = "py-2">${day}-${month}-${year} ${hour}:${mints}</td> <td class = "py-2">$</td>`;
            transactionTableBody.appendChild(row);
        };



    </script>
</body>

</html>